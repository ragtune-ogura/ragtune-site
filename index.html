<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dev Shopify Ragutune</title>

  <!-- ページ固有CSS -->
  <link rel="stylesheet" href="./style.css" />

  <!-- Swiper CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css"
  />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Allura&family=Mulish:wght@200;400;700;900&family=Noto+Sans+JP:wght@300;400;700;900&display=swap"
    rel="stylesheet"
  />

  <!-- Adobe Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/duu5afd.css" />
</head>

<body>

  <!-- ▼ partials ▼ -->
  <div id="header-include"></div>
  <div id="section1-include"></div>
  <div id="section2-include"></div>
  <div id="section3-include"></div>

  <!-- Swiper -->
  <div class="swiper client-swiper">
    <div class="swiper-wrapper">

      <!-- ユカイ -->
      <div class="swiper-slide">
        <div class="client-image"><img src="./images/client_yukai.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style: none;">
            <li>初期構築</li>
            <li>UX構築</li>
          </ul>
          <p class="client_name">Client Name 1</p>
          <p class="business">Some description text 1</p>
          <button type="button" onclick="window.open('https://www.ux-xu.com/', '_blank')">Website</button>
        </div>
      </div>

      <!-- erva -->
      <div class="swiper-slide">
        <div class="client-image"><img src="./images/client_erva.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style: none;">
            <li>初期構築</li>
            <li>UX構築</li>
          </ul>
          <p class="client_name">Client Name 1</p>
          <p class="business">Some description text 1</p>
          <button type="button" onclick="window.open('https://www.erva-dog.com/', '_blank')">Website</button>
        </div>
      </div>

      <div class="swiper-slide">
        <div class="client-image"><img src="./images/s4-image02.png" alt=""></div>
        <div class="client-meta"><h4>Client Name 2</h4><p>Some description text 2</p></div>
      </div>

      <div class="swiper-slide">
        <div class="client-image"><img src="./images/s4-image03.png" alt=""></div>
        <div class="client-meta"><h4>Client Name 3</h4><p>Some description text 3</p></div>
      </div>

      <div class="swiper-slide">
        <div class="client-image"><img src="./images/s4-image04.png" alt=""></div>
        <div class="client-meta"><h4>Client Name 4</h4><p>Some description text 4</p></div>
      </div>

      <div class="swiper-slide">
        <div class="client-image"><img src="./images/s4-image05.png" alt=""></div>
        <div class="client-meta"><h4>Client Name 5</h4><p>Some description text 5</p></div>
      </div>

    </div>

    <!-- Arrows -->
    <div class="client-swiper-controls">
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>

  <div id="section4-include"></div>
  <div id="footer-include"></div>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>

  <!-- ▼ partial include script ▼ -->
  <script>
    const includes = [
      { id: "header-include", file: "./partials/header.html" },
      { id: "section1-include", file: "./partials/section1.html" },
      { id: "section2-include", file: "./partials/section2.html" },
      { id: "section3-include", file: "./partials/section3.html" },
      { id: "section4-include", file: "./partials/section4.html" },
      { id: "footer-include", file: "./partials/footer.html" },
    ];

    // ▼ partial 読み込み
    Promise.all(
      includes.map((part) =>
        fetch(part.file)
          .then((res) => res.text())
          .then((html) => {
            document.getElementById(part.id).innerHTML = html;
          })
      )
    ).then(() => {

      // script.js を最後にロード（1回だけ）
      const mainScript = document.createElement("script");
      mainScript.src = "./script.js";
      document.body.appendChild(mainScript);

      // partials 完了イベント発火
      document.dispatchEvent(new Event("partialsLoaded"));
    });

    // ▼ partialsLoaded 後の処理
    document.addEventListener("partialsLoaded", () => {

      // section 個別JSをまとめて呼ぶ
      if (window.initSections) window.initSections();

      // Swiper（DOM完成後に再初期化）
      new Swiper(".client-swiper", {
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });

      // フェードイン
      document.body.classList.add("page-loaded");
    });
  </script>
</body>
</html>
