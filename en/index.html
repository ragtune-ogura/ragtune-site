<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ragtune Shopify Studio</title>

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css" />

  <!-- Local CSS -->
  <link rel="stylesheet" href="../style.css" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Mulish:wght@700;900&family=Noto+Sans+JP:wght@400;700&display=swap"
    rel="stylesheet"
    />

  <!-- Favicon -->
  <link rel="icon" href="../images/favicon-32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="../images/apple-icon-180.png" sizes="180x180">
</head>

<body>
  <div id="header-include"></div>
  <div id="section1-include"></div>
  <div id="section2-include"></div>
  <div id="section3-include"></div>

  <!-- Swiper -->
  <div class="swiper client-swiper">
    <div class="swiper-wrapper">

      <!-- ERVA -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_erva.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
            <li>Support</li>
          </ul>
          <p class="client_name">ERVA Dog Sling</p>
          <p class="business">Pet Gear / Dog Accessories</p>
          <button type="button" onclick="window.open('https://www.erva-dog.com/', '_blank')">Website</button>
        </div>
      </div>

      <!-- BICI AMORE -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_baintl.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
          </ul>
          <p class="client_name">BICI AMORE</p>
          <p class="business">Sports / Bicycle Retail</p>
          <button type="button" onclick="window.open('https://web-store.biciamore.jp/', '_blank')">Website</button>
        </div>
      </div>

      <!-- Mizkan -->
      <div class="swiper-slide">
        <div class="client-image" style="aspect-ratio: 1 / 0.523;">
          <img loading="lazy" src="../images/client_mizkan.webp" alt="" style="object-fit:contain;width:80%;margin-inline:auto;">
        </div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>UI/UX</li>
            <li>Design Sys</li>
          </ul>
          <p class="client_name">Mizkan Official Store</p>
          <p class="business">Food / Seasonings</p>
          <button type="button" onclick="window.open('https://shop.mizkan.co.jp/', '_blank')">Website</button>
        </div>
      </div>

      <!-- DRESCCO -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_drescco.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
          </ul>
          <p class="client_name">DRESCCO</p>
          <p class="business">Kids Apparel</p>
          <button type="button" onclick="window.open('https://drescco.com/', '_blank')">Website</button>
        </div>
      </div>

      <!-- ZENB -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_zenb.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>UI/UX</li>
            <li>Design Sys</li>
          </ul>
          <p class="client_name">ZENB</p>
          <p class="business">Health Food / D2C Brand</p>
          <button type="button" onclick="window.open('https://zenb.jp/', '_blank')">Website</button>
        </div>
      </div>

      <!-- Hotaru Kaido -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_hotaru.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
          </ul>
          <p class="client_name">Hotaru Kaido Nishinoichi</p>
          <p class="business">Local Products / Tourism Facility</p>
          <button type="button" onclick="window.open('https://toyota-hotaru.com/', '_blank')">Website</button>
        </div>
      </div>

      <!-- Cowboy Craft -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_cc.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
          </ul>
          <p class="client_name">Cowboy Craft</p>
          <p class="business">Brewing Equipment</p>
          <button type="button" onclick="window.open('https://cowboycraftjapan.com/', '_blank')">Website</button>
        </div>
      </div>

      <!-- Taichi Murakami -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_tm.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
          </ul>
          <p class="client_name">Taichi Murakami</p>
          <p class="business">Designer / Fashion Brand</p>
          <button type="button" onclick="window.open('https://taichimurakami.com/', '_blank')">Website</button>
        </div>
      </div>

      <!-- Yukai Engineering -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_yukai.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
          </ul>
          <p class="client_name">Yukai Engineering Store</p>
          <p class="business">Tech / Robotics</p>
          <button type="button" onclick="window.open('https://store.ux-xu.com/', '_blank')">Website</button>
        </div>
      </div>

      <!-- HEART KNIFE -->
      <div class="swiper-slide">
        <div class="client-image"><img loading="lazy" src="../images/client_hk.webp" alt=""></div>
        <div class="client-meta">
          <ul style="list-style:none;">
            <li>Dev</li>
          </ul>
          <p class="client_name">HEART KNIFE</p>
          <p class="business">Gifts / Lifestyle Goods</p>
          <button type="button" onclick="window.open('https://heart-knife.com/', '_blank')">Website</button>
        </div>
      </div>

    </div>

    <div class="client-swiper-controls">
      <div class="swiper-button-prev"><img loading="lazy" src="../images/swipe-arrow-prev.svg"></div>
      <span><img loading="lazy" src="../images/swipe-arrow-devider.svg"></span>
      <div class="swiper-button-next"><img loading="lazy" src="../images/swipe-arrow-next.svg"></div>
    </div>

    <div class="swiper-counter"><span class="current">1</span>/<span class="total">1</span></div>
  </div>

  <div id="section4-include"></div>
  <div id="footer-include"></div>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>

  <script>
    const includes = [
      { id: "header-include",  file: "../partials/header-en.html" },
      { id: "section1-include", file: "../partials/section1-en.html" },
      { id: "section2-include", file: "../partials/section2-en.html" },
      { id: "section3-include", file: "../partials/section3-en.html" },
      { id: "section4-include", file: "../partials/section4-en.html" },
      { id: "footer-include",  file: "../partials/footer-en.html" },
    ];

    Promise.all(
      includes.map(part =>
        fetch(part.file)
          .then(res => res.text())
          .then(html => {
            document.getElementById(part.id).innerHTML = html;
          })
      )
    ).then(() => {
      const mainScript = document.createElement("script");
      mainScript.src = "../script.js";
      mainScript.onload = () => {
        document.dispatchEvent(new Event("partialsLoaded"));
      };
      document.body.appendChild(mainScript);
    });

    function initClientSwiper() {
      const container = document.querySelector(".client-swiper");
      if (!container) return;

      const currentEl = document.querySelector(".swiper-counter .current");
      const totalEl = document.querySelector(".swiper-counter .total");

      const swiper = new Swiper(".client-swiper", {
        loop: true,
        slidesPerView: "auto",
        centeredSlides: true,
        spaceBetween: 16,
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        breakpoints: {
          768: { spaceBetween: 32, centeredSlides: true },
          1280:{ spaceBetween: 100, centeredSlides: true },
        },
        on: {
          init(sw) {
            if (totalEl) {
              totalEl.textContent = sw.slides.length - sw.loopedSlides * 2;
            }
            updateCounter(sw);
          },
          slideChange(sw) {
            updateCounter(sw);
          },
        },
      });

      function updateCounter(sw) {
        if (!currentEl) return;
        currentEl.textContent = sw.realIndex + 1;
      }
    }

    document.addEventListener("partialsLoaded", () => {
      initClientSwiper();
      document.body.classList.add("page-loaded");
    });
  </script>
</body>
</html>
